$(function(){function e(e,r,c){c===!0?("growth"==r&&h[e]++,"energy"==r&&i[e]++,"decay"==r&&a[e]++,"order"==r&&o[e]++):("growth"==r&&h[e]--,"energy"==r&&i[e]--,"decay"==r&&a[e]--,"order"==r&&o[e]--),t(e,r),console.log(r+", "+e)}function r(e,r){var c=$("#curve-"+e).find(".curve-growth"),t=$("#curve-"+e).find(".curve-energy"),h=$("#curve-"+e).find(".curve-decay"),a=$("#curve-"+e).find(".curve-order");"growth"==r&&$(c).css("height",n(e,r)+"%"),"energy"==r&&$(t).css("height",n(e,r)+"%"),"decay"==r&&$(c).css("height",n(e,r)+"%"),"order"==r&&$(a).css("height",n(e,r)+"%")}function c(e){var r=parseInt($("#curve-"+e).find(".curve-growth").css("height")),c=parseInt($("#curve-"+e).find(".curve-energy").css("height")),t=parseInt($("#curve-"+e).find(".curve-decay").css("height")),n=parseInt($("#curve-"+e).find(".curve-order").css("height"));$("#curve-"+e).find("#offset").css("height",100-(r+c+t+n)+"%")}function t(e,t){for(var n=0;9>n;n++)r(n,t),c(n)}function n(e,r){var c=Math.max.apply(Math,h),t=Math.max.apply(Math,h),n=Math.max.apply(Math,h),s=Math.max.apply(Math,h),u=c+s+t+n;return"growth"==r?h[e]/u*100:"energy"==r?i[e]/u*100:"decay"==r?a[e]/u*100:"order"==r?o[e]/u*100:void 0}var h=[0,0,0,0,0,0,0,0,0],a=[0,0,0,0,0,0,0,0,0],i=[0,0,0,0,0,0,0,0,0],o=[0,0,0,0,0,0,0,0,0]});